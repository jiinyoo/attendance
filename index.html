<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜ì¤‘ì Šì€ì´êµíšŒ ì¶œì„ í†µê³„</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .period {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.4em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin-top: 20px;
        }

        .large-chart {
            height: 400px;
        }

        .member-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .member-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            margin: 8px 0;
            background: #f8f9fa;
            border-radius: 10px;
            transition: background 0.3s ease;
        }

        .member-item:hover {
            background: #e9ecef;
        }

        .member-name {
            font-weight: 600;
            color: #333;
        }

        .attendance-dots {
            display: flex;
            gap: 8px;
        }

        .dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            border: 2px solid #ddd;
        }

        .dot.present {
            background: #4CAF50;
            border-color: #4CAF50;
        }

        .dot.late {
            background: #FF9800;
            border-color: #FF9800;
        }

        .dot.absent {
            background: transparent;
        }

        .dot.main-service {
            background: #2196F3;
            border-color: #2196F3;
        }

        .rate {
            font-weight: 700;
            color: #667eea;
            font-size: 1.1em;
        }

        .legend {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }

        .newcomer-card {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .newcomer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .newcomer-name {
            font-weight: 700;
            color: #333;
            font-size: 1.1em;
        }

        .badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .badge.ready {
            background: #4CAF50;
            color: white;
        }

        .badge.progress {
            background: #FF9800;
            color: white;
        }

        .badge.new {
            background: #2196F3;
            color: white;
        }

        .attendance-count {
            font-size: 0.95em;
            color: #666;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .summary-item {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
        }

        .summary-value {
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .summary-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .group-stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }

        .group-name {
            font-weight: 600;
            font-size: 1.1em;
        }

        .group-rate {
            font-size: 1.3em;
            font-weight: 700;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 10px;
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“Š ì˜ì¤‘ì Šì€ì´êµíšŒ ì¶œì„ í†µê³„</h1>
            <p class="period">2025ë…„ 8ì›” 24ì¼ - 9ì›” 14ì¼ (4ì£¼ê°„)</p>
        </header>

        <!-- ì „ì²´ ìš”ì•½ í†µê³„ -->
        <div class="summary-stats">
            <div class="summary-item">
                <div class="summary-value">52</div>
                <div class="summary-label">ì „ì²´ ë“±ë¡ ì¸ì›</div>
            </div>
            <div class="summary-item">
                <div class="summary-value">73%</div>
                <div class="summary-label">í‰ê·  ì¶œì„ë¥ </div>
            </div>
            <div class="summary-item">
                <div class="summary-value">8</div>
                <div class="summary-label">ì†(ê·¸ë£¹) ìˆ˜</div>
            </div>
            <div class="summary-item">
                <div class="summary-value">5</div>
                <div class="summary-label">ìƒˆì‹ ì</div>
            </div>
        </div>

        <div class="stats-grid">
            <!-- 1. ê°œì¸ë³„ ì¶œì„ë¥  -->
            <div class="stat-card">
                <h2>ğŸ‘¥ ê°œì¸ë³„ ì¶œì„ë¥  (ìµœê·¼ 4ì£¼)</h2>
                <div class="legend">
                    <div class="legend-item">
                        <span class="dot present"></span>
                        <span>ì •ì‹œ ì¶œì„</span>
                    </div>
                    <div class="legend-item">
                        <span class="dot late"></span>
                        <span>ì§€ê°</span>
                    </div>
                    <div class="legend-item">
                        <span class="dot main-service"></span>
                        <span>ë³¸ë‹¹ì˜ˆë°°</span>
                    </div>
                    <div class="legend-item">
                        <span class="dot absent"></span>
                        <span>ê²°ì„</span>
                    </div>
                </div>
                <div class="member-list" id="memberAttendanceList"></div>
            </div>

            <!-- 2. ìƒˆì‹ ì ì¶œì„ í˜„í™© -->
            <div class="stat-card">
                <h2>ğŸŒŸ ìƒˆì‹ ì ì¶œì„ í˜„í™©</h2>
                <p style="color: #666; margin-bottom: 15px; font-size: 0.95em;">
                    * 3íšŒ ì´ìƒ ì¶œì„ ì‹œ ì •ì‹ ë“±ë¡ ê°€ëŠ¥
                </p>
                <div id="newcomerList"></div>
            </div>

            <!-- 3. ì†ë³„ í‰ê·  ì¶œì„ë¥  -->
            <div class="stat-card">
                <h2>ğŸ“ˆ ì†ë³„ í‰ê·  ì¶œì„ë¥ </h2>
                <div class="chart-container">
                    <canvas id="groupAttendanceChart"></canvas>
                </div>
            </div>

            <!-- 4. ì£¼ì°¨ë³„ ì „ì²´ ì¶œì„ ì¶”ì´ -->
            <div class="stat-card">
                <h2>ğŸ“… ì£¼ì°¨ë³„ ì¶œì„ ì¸ì› ì¶”ì´</h2>
                <div class="chart-container">
                    <canvas id="weeklyTrendChart"></canvas>
                </div>
            </div>

            <!-- 5. ì—°ë ¹ëŒ€ë³„ ì¶œì„ë¥  -->
            <div class="stat-card">
                <h2>ğŸ‘¶ğŸ‘¨ğŸ‘´ ì—°ë ¹ëŒ€ë³„ ì¶œì„ë¥ </h2>
                <div class="chart-container">
                    <canvas id="ageGroupChart"></canvas>
                </div>
            </div>

            <!-- 6. ì¶œì„ ìƒíƒœ ë¶„í¬ -->
            <div class="stat-card">
                <h2>â° ì¶œì„ ìƒíƒœ ë¶„í¬</h2>
                <div class="chart-container">
                    <canvas id="attendanceStatusChart"></canvas>
                </div>
            </div>

            <!-- 7. ì—°ì† ê²°ì„ì í˜„í™© -->
            <div class="stat-card">
                <h2>âš ï¸ ê´€ì‹¬ í•„ìš” ë©¤ë²„ (2ì£¼ ì´ìƒ ê²°ì„)</h2>
                <div id="absentMembersList"></div>
            </div>

            <!-- 8. ì™„ì „ ì¶œì„ì -->
            <div class="stat-card">
                <h2>ğŸ† ì™„ì „ ì¶œì„ì (4ì£¼ ëª¨ë‘ ì¶œì„)</h2>
                <div id="perfectAttendanceList"></div>
            </div>
        </div>
    </div>

    <script>
        // ì‹¤ì œ PDF ë°ì´í„° ê¸°ë°˜ ìƒ˜í”Œ ë°ì´í„°
        const attendanceData = {
            members: [
                { name: 'ìœ ë™í›ˆ', birthYear: 1990, group: 'ë™í›ˆì†', attendance: ['present', 'late', 'absent', 'present'] },
                { name: 'ë°•íƒœê´€', birthYear: 1991, group: 'ë™í›ˆì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ë¬¸ìŠ¹ì¤€', birthYear: 1993, group: 'ë™í›ˆì†', attendance: ['present', 'absent', 'absent', 'absent'] },
                { name: 'ì´ìˆ˜ì •', birthYear: 1991, group: 'ìˆ˜ì •ì†', attendance: ['absent', 'late', 'late', 'absent'] },
                { name: 'ì„í˜„ìš°', birthYear: 1982, group: 'ìˆ˜ì •ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ìœ í˜„ì§€', birthYear: 1992, group: 'ìˆ˜ì •ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ê¹€í˜„ë™', birthYear: 1993, group: 'í˜„ë™ì†', attendance: ['absent', 'present', 'absent', 'present'] },
                { name: 'ë°•ì°¬ìš°', birthYear: 1983, group: 'í˜„ë™ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ê¹€ì§€í˜œ', birthYear: 1988, group: 'í˜„ë™ì†', attendance: ['main', 'absent', 'absent', 'absent'] },
                { name: 'ê¹€ìœ¨ë¦¬', birthYear: 1993, group: 'ìœ¨ë¦¬ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ê¹€í™”ì¤‘', birthYear: 1985, group: 'ìœ¨ë¦¬ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ê¹€í˜„ì¤€', birthYear: 1988, group: 'ìœ¨ë¦¬ì†', attendance: ['main', 'absent', 'absent', 'absent'] },
                { name: 'ì¶”ì˜ìš±', birthYear: 1985, group: 'ìœ¨ë¦¬ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ë°°í˜„ê·¼', birthYear: 1990, group: 'ìœ¨ë¦¬ì†', attendance: ['absent', 'absent', 'main', 'absent'] },
                { name: 'ê°•ì¬ê³¤', birthYear: 1989, group: 'ìœ¨ë¦¬ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ì°¨ì˜ì¤€', birthYear: 1995, group: 'ì˜ì¤€ì†', attendance: ['present', 'present', 'present', 'present'] },
                { name: 'ë¥˜ì„±í˜„', birthYear: 1992, group: 'ì˜ì¤€ì†', attendance: ['present', 'late', 'present', 'present'] },
                { name: 'ë°•ìˆ˜ì—°', birthYear: 1993, group: 'ì˜ì¤€ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ê¹€í˜„ì •', birthYear: 1995, group: 'í˜„ì •ì†', attendance: ['present', 'present', 'late', 'present'] },
                { name: 'ë°•ì†Œì˜', birthYear: 1998, group: 'í˜„ì •ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ë¬¸ìŠ¹ìš´', birthYear: 1991, group: 'í˜„ì •ì†', attendance: ['present', 'absent', 'absent', 'absent'] },
                { name: 'ê³ ì •í™˜', birthYear: 1998, group: 'ì •í™˜ì†', attendance: ['present', 'present', 'present', 'late'] },
                { name: 'ì¡°ìœ ì§„', birthYear: 1993, group: 'ì •í™˜ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ê¹€ì˜í˜„', birthYear: 1998, group: 'ì •í™˜ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ë°•í•˜ì˜', birthYear: 1998, group: 'í•˜ì˜ì†', attendance: ['present', 'late', 'present', 'present'] },
                { name: 'ê¹€ìš´ë¯¼í˜', birthYear: 2001, group: 'í•˜ì˜ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
                { name: 'ì´í˜„ë¯¼', birthYear: 2005, group: 'í•˜ì˜ì†', attendance: ['absent', 'absent', 'absent', 'absent'] },
            ],
            newcomers: [
                { name: 'ê¹€ë¯¼ê²½', birthYear: 1997, visitCount: 3, status: 'ready' },
                { name: 'ì§„ì†”', birthYear: 1997, visitCount: 2, status: 'progress' },
                { name: 'ì‹¬í•˜ë¦¼', birthYear: 1997, visitCount: 4, status: 'ready' },
                { name: 'ì´ìš°ìš©', birthYear: 1998, visitCount: 1, status: 'new' },
                { name: 'ê°•ë‚˜ì—°', birthYear: 1998, visitCount: 2, status: 'progress' },
            ],
            weeks: ['8/24', '8/31', '9/7', '9/14']
        };

        // ê°œì¸ë³„ ì¶œì„ë¥  ê³„ì‚° ë° ë Œë”ë§
        function renderMemberAttendance() {
            const container = document.getElementById('memberAttendanceList');
            const sortedMembers = attendanceData.members
                .map(member => {
                    const total = member.attendance.length;
                    const attended = member.attendance.filter(a => a !== 'absent').length;
                    const rate = (attended / total * 100).toFixed(0);
                    return { ...member, rate, attended };
                })
                .sort((a, b) => b.rate - a.rate);

            container.innerHTML = sortedMembers.map(member => `
                <div class="member-item">
                    <div>
                        <span class="member-name">${member.name}</span>
                        <span style="color: #999; font-size: 0.9em; margin-left: 8px;">(${member.group})</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div class="attendance-dots">
                            ${member.attendance.map(status => `
                                <span class="dot ${status}"></span>
                            `).join('')}
                        </div>
                        <span class="rate">${member.rate}%</span>
                    </div>
                </div>
            `).join('');
        }

        // ìƒˆì‹ ì í˜„í™© ë Œë”ë§
        function renderNewcomers() {
            const container = document.getElementById('newcomerList');
            container.innerHTML = attendanceData.newcomers.map(newcomer => {
                let badgeClass = 'new';
                let badgeText = 'ì‹ ê·œ';
                
                if (newcomer.visitCount >= 3) {
                    badgeClass = 'ready';
                    badgeText = 'ë“±ë¡ ê°€ëŠ¥';
                } else if (newcomer.visitCount >= 2) {
                    badgeClass = 'progress';
                    badgeText = 'ì§„í–‰ ì¤‘';
                }

                return `
                    <div class="newcomer-card">
                        <div class="newcomer-header">
                            <span class="newcomer-name">${newcomer.name}</span>
                            <span class="badge ${badgeClass}">${badgeText}</span>
                        </div>
                        <div class="attendance-count">
                            ì¶œì„ íšŸìˆ˜: <strong>${newcomer.visitCount}íšŒ</strong> / 3íšŒ
                            <div style="background: #e0e0e0; height: 8px; border-radius: 10px; margin-top: 8px; overflow: hidden;">
                                <div style="background: ${newcomer.visitCount >= 3 ? '#4CAF50' : '#FF9800'}; width: ${Math.min(newcomer.visitCount / 3 * 100, 100)}%; height: 100%;"></div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // ì†ë³„ í‰ê·  ì¶œì„ë¥ 
        function renderGroupAttendance() {
            const groups = {};
            attendanceData.members.forEach(member => {
                if (!groups[member.group]) {
                    groups[member.group] = { total: 0, attended: 0 };
                }
                groups[member.group].total += member.attendance.length;
                groups[member.group].attended += member.attendance.filter(a => a !== 'absent').length;
            });

            const groupNames = Object.keys(groups);
            const groupRates = groupNames.map(name => 
                (groups[name].attended / groups[name].total * 100).toFixed(1)
            );

            new Chart(document.getElementById('groupAttendanceChart'), {
                type: 'bar',
                data: {
                    labels: groupNames,
                    datasets: [{
                        label: 'ì¶œì„ë¥  (%)',
                        data: groupRates,
                        backgroundColor: 'rgba(102, 126, 234, 0.8)',
                        borderColor: 'rgba(102, 126, 234, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // ì£¼ì°¨ë³„ ì¶œì„ ì¶”ì´
        function renderWeeklyTrend() {
            const weeklyData = attendanceData.weeks.map((week, index) => {
                return attendanceData.members.filter(m => 
                    m.attendance[index] && m.attendance[index] !== 'absent'
                ).length;
            });

            new Chart(document.getElementById('weeklyTrendChart'), {
                type: 'line',
                data: {
                    labels: attendanceData.weeks,
                    datasets: [{
                        label: 'ì¶œì„ ì¸ì›',
                        data: weeklyData,
                        borderColor: 'rgba(102, 126, 234, 1)',
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        tension: 0.4,
                        fill: true,
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 5
                            }
                        }
                    }
                }
            });
        }

        // ì—°ë ¹ëŒ€ë³„ ì¶œì„ë¥ 
        function renderAgeGroupAttendance() {
            const ageGroups = {
                '80ë…„ëŒ€': { total: 0, attended: 0 },
                '90ë…„ëŒ€': { total: 0, attended: 0 },
                '00ë…„ëŒ€': { total: 0, attended: 0 }
            };

            attendanceData.members.forEach(member => {
                const decade = Math.floor(member.birthYear / 10) * 10;
                let group;
                if (decade === 1980) group = '80ë…„ëŒ€';
                else if (decade === 1990) group = '90ë…„ëŒ€';
                else group = '00ë…„ëŒ€';

                ageGroups[group].total += member.attendance.length;
                ageGroups[group].attended += member.attendance.filter(a => a !== 'absent').length;
            });

            const labels = Object.keys(ageGroups);
            const rates = labels.map(label => 
                (ageGroups[label].attended / ageGroups[label].total * 100).toFixed(1)
            );

            new Chart(document.getElementById('ageGroupChart'), {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: rates,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.8)',
                            'rgba(54, 162, 235, 0.8)',
                            'rgba(255, 206, 86, 0.8)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // ì¶œì„ ìƒíƒœ ë¶„í¬
        function renderAttendanceStatus() {
            const statusCount = {
                'ì •ì‹œ ì¶œì„': 0,
                'ì§€ê°': 0,
                'ë³¸ë‹¹ì˜ˆë°°': 0,
                'ê²°ì„': 0
            };

            attendanceData.members.forEach(member => {
                member.attendance.forEach(status => {
                    if (status === 'present') statusCount['ì •ì‹œ ì¶œì„']++;
                    else if (status === 'late') statusCount['ì§€ê°']++;
                    else if (status === 'main') statusCount['ë³¸ë‹¹ì˜ˆë°°']++;
                    else statusCount['ê²°ì„']++;
                });
            });

            new Chart(document.getElementById('attendanceStatusChart'), {
                type: 'pie',
                data: {
                    labels: Object.keys(statusCount),
                    datasets: [{
                        data: Object.values(statusCount),
                        backgroundColor: [
                            'rgba(76, 175, 80, 0.8)',
                            'rgba(255, 152, 0, 0.8)',
                            'rgba(33, 150, 243, 0.8)',
                            'rgba(158, 158, 158, 0.8)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // ì—°ì† ê²°ì„ì í˜„í™©
        function renderAbsentMembers() {
            const container = document.getElementById('absentMembersList');
            const absentMembers = attendanceData.members
                .map(member => {
                    let consecutiveAbsent = 0;
                    for (let i = member.attendance.length - 1; i >= 0; i--) {
                        if (member.attendance[i] === 'absent') {
                            consecutiveAbsent++;
                        } else {
                            break;
                        }
                    }
                    return { ...member, consecutiveAbsent };
                })
                .filter(m => m.consecutiveAbsent >= 2)
                .sort((a, b) => b.consecutiveAbsent - a.consecutiveAbsent);

            if (absentMembers.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #4CAF50; padding: 20px;">âœ… ê´€ì‹¬ì´ í•„ìš”í•œ ë©¤ë²„ê°€ ì—†ìŠµë‹ˆë‹¤!</p>';
            } else {
                container.innerHTML = absentMembers.map(member => `
                    <div class="member-item" style="border-left: 4px solid #f44336;">
                        <div>
                            <span class="member-name">${member.name}</span>
                            <span style="color: #999; font-size: 0.9em; margin-left: 8px;">(${member.group})</span>
                        </div>
                        <span style="color: #f44336; font-weight: 700;">${member.consecutiveAbsent}ì£¼ ì—°ì† ê²°ì„</span>
                    </div>
                `).join('');
            }
        }

        // ì™„ì „ ì¶œì„ì
        function renderPerfectAttendance() {
            const container = document.getElementById('perfectAttendanceList');
            const perfectMembers = attendanceData.members
                .filter(m => m.attendance.every(a => a !== 'absent'));

            if (perfectMembers.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #999; padding: 20px;">ì™„ì „ ì¶œì„ìê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
            } else {
                container.innerHTML = perfectMembers.map(member => `
                    <div class="member-item" style="border-left: 4px solid #4CAF50;">
                        <div>
                            <span class="member-name">ğŸ† ${member.name}</span>
                            <span style="color: #999; font-size: 0.9em; margin-left: 8px;">(${member.group})</span>
                        </div>
                        <span style="color: #4CAF50; font-weight: 700;">4ì£¼ ì¶œì„</span>
                    </div>
                `).join('');
            }
        }

        // ëª¨ë“  í†µê³„ ë Œë”ë§
        renderMemberAttendance();
        renderNewcomers();
        renderGroupAttendance();
        renderWeeklyTrend();
        renderAgeGroupAttendance();
        renderAttendanceStatus();
        renderAbsentMembers();
        renderPerfectAttendance();
    </script>
</body>
</html>
